/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/scss/n2-postlist.scss":
/*!***********************************!*\
  !*** ./src/scss/n2-postlist.scss ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://neo-neng/./src/scss/n2-postlist.scss?");

/***/ }),

/***/ "./src/scss/n2-setpost.scss":
/*!**********************************!*\
  !*** ./src/scss/n2-setpost.scss ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n// extracted by mini-css-extract-plugin\n\n\n//# sourceURL=webpack://neo-neng/./src/scss/n2-setpost.scss?");

/***/ }),

/***/ "./src/ts/functions/index.ts":
/*!***********************************!*\
  !*** ./src/ts/functions/index.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports) => {

eval("\r\n/**\r\n * 複数ファイルで使いまわしたい変数や関数があればここに\r\n *\r\n * 読み込むファイルではimport { prefix, neoNengPath, ajaxUrl } from '../n2-functions/index'を記載\r\n */\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nexports.ajaxUrl = exports.neoNengPath = exports.prefix = void 0;\r\n// クラス名にプレフィックスを付けてるところがある\r\nexports.prefix = \"neo-neng\";\r\n// PHPからこのテーマのディレクトリパスを受けとっている\r\nvar neoNengPath = function (window) {\r\n    return window.tmp_path.tmp_url;\r\n};\r\nexports.neoNengPath = neoNengPath;\r\n// wp_ajax用のパスを受け取っている\r\nvar ajaxUrl = function (window) {\r\n    return window.tmp_path.ajax_url;\r\n};\r\nexports.ajaxUrl = ajaxUrl;\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/functions/index.ts?");

/***/ }),

/***/ "./src/ts/index.ts":
/*!*************************!*\
  !*** ./src/ts/index.ts ***!
  \*************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\n__webpack_require__(/*! ../scss/n2-postlist.scss */ \"./src/scss/n2-postlist.scss\");\r\n__webpack_require__(/*! ../scss/n2-setpost.scss */ \"./src/scss/n2-setpost.scss\");\r\nvar n2_setpost_1 = __importDefault(__webpack_require__(/*! ./n2-setpost */ \"./src/ts/n2-setpost/index.ts\"));\r\nvar n2_sissubmit_1 = __importDefault(__webpack_require__(/*! ./n2-sissubmit */ \"./src/ts/n2-sissubmit/index.ts\"));\r\nvar n2_postlist_1 = __importDefault(__webpack_require__(/*! ./n2-postlist */ \"./src/ts/n2-postlist/index.ts\"));\r\n// 返礼品編集画面\r\nif (location.href.match(/(post|post-new)\\.php/)) {\r\n    (0, n2_setpost_1.default)();\r\n}\r\n// 各種セットアップ画面\r\nif (location.href.match(/admin\\.php/)) {\r\n    (0, n2_sissubmit_1.default)();\r\n}\r\nif (location.href.match(/edit\\.php/)) {\r\n    (0, n2_postlist_1.default)();\r\n}\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/index.ts?");

/***/ }),

/***/ "./src/ts/n2-postlist/ajax-dl.ts":
/*!***************************************!*\
  !*** ./src/ts/n2-postlist/ajax-dl.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\n/**\r\n * 返礼品一覧ページの画像ダウンロードで使用するAjax用のファイル\r\n */\r\nexports[\"default\"] = (function () {\r\n    jQuery(function ($) {\r\n        $(\".dlbtn\").on(\"click\", function (e) {\r\n            var btnName = $(e.target).attr(\"id\");\r\n            e.preventDefault();\r\n            download((0, index_1.ajaxUrl)(window), btnName, getIds());\r\n        });\r\n        // チェックが入った返礼品のidを配列で返す\r\n        var getIds = function () {\r\n            var checkbox = $.makeArray($('input[name=\"post[]\"]'));\r\n            var checked = checkbox.flatMap(function (v) {\r\n                return $(v).prop(\"checked\") ? $(v).val() : [];\r\n            });\r\n            return checked.length ? checked.join() : \"\";\r\n        };\r\n        // downloadさせる\r\n        function download(url, action, id) {\r\n            var data = new FormData();\r\n            data.append(\"id\", id);\r\n            var xhr = new XMLHttpRequest();\r\n            xhr.open(\"POST\", url + \"?action=\" + action, true);\r\n            xhr.responseType = \"blob\";\r\n            xhr.onload = function (e) {\r\n                var blob = this.response;\r\n                if (blob.size === 0) {\r\n                    alert(\"\\n選択した返礼品全てに画像が登録されていません。\");\r\n                    return;\r\n                }\r\n                var a = document.createElement(\"a\");\r\n                document.body.appendChild(a);\r\n                a.href = window.URL.createObjectURL(new Blob([blob], { type: blob.type }));\r\n                a.download = decodeURI(this.getResponseHeader(\"Download-Name\"));\r\n                a.click();\r\n                a.remove();\r\n            };\r\n            xhr.send(data);\r\n        }\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-postlist/ajax-dl.ts?");

/***/ }),

/***/ "./src/ts/n2-postlist/ajax.ts":
/*!************************************!*\
  !*** ./src/ts/n2-postlist/ajax.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\n/**\r\n * 返礼品一覧ページで使用するAjax用のファイル\r\n */\r\nexports[\"default\"] = (function () {\r\n    jQuery(function ($) {\r\n        $(\".sisbtn\").on(\"click\", function (e) {\r\n            var btnName = $(e.target).attr(\"id\");\r\n            openByPost((0, index_1.ajaxUrl)(window), btnName, getIds());\r\n            console.log(getIds());\r\n        });\r\n        // チェックが入った返礼品のidを配列で返す\r\n        var getIds = function () {\r\n            var checkbox = $.makeArray($('input[name=\"post[]\"]'));\r\n            var checked = checkbox.flatMap(function (v) {\r\n                return $(v).prop(\"checked\") ? $(v).val() : [];\r\n            });\r\n            return checked.length ? checked.join() : \"\";\r\n        };\r\n        // POST送信してURLを開く\r\n        var openByPost = function (url, btnName, ids) {\r\n            if (!ids)\r\n                return;\r\n            var win = window.open(\"about:blank\", url);\r\n            var form = document.createElement(\"form\");\r\n            var body = document.getElementsByTagName(\"body\")[0];\r\n            form.action = url + \"?action=\" + btnName;\r\n            form.method = \"post\";\r\n            var input = document.createElement(\"input\");\r\n            input.type = \"hidden\";\r\n            input.name = btnName;\r\n            input.value = ids;\r\n            form.appendChild(input);\r\n            body.appendChild(form);\r\n            form.submit();\r\n            body.removeChild(form);\r\n            return win;\r\n        };\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-postlist/ajax.ts?");

/***/ }),

/***/ "./src/ts/n2-postlist/index.ts":
/*!*************************************!*\
  !*** ./src/ts/n2-postlist/index.ts ***!
  \*************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar ajax_1 = __importDefault(__webpack_require__(/*! ./ajax */ \"./src/ts/n2-postlist/ajax.ts\"));\r\nvar search_1 = __importDefault(__webpack_require__(/*! ./search */ \"./src/ts/n2-postlist/search.ts\"));\r\nvar ajax_dl_1 = __importDefault(__webpack_require__(/*! ./ajax-dl */ \"./src/ts/n2-postlist/ajax-dl.ts\"));\r\nexports[\"default\"] = (function () {\r\n    (0, ajax_1.default)();\r\n    (0, search_1.default)();\r\n    (0, ajax_dl_1.default)();\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-postlist/index.ts?");

/***/ }),

/***/ "./src/ts/n2-postlist/search.ts":
/*!**************************************!*\
  !*** ./src/ts/n2-postlist/search.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\nexports[\"default\"] = (function () {\r\n    /** ===============================================================\r\n     *\r\n     * 検索用\r\n     * 絞り込み検索で事業者を絞り込むと、関連する返礼品コードのみを選択できるようにJS制御\r\n     *\r\n    ================================================================== */\r\n    jQuery(function ($) {\r\n        var url = new URL(location.href);\r\n        var params = url.searchParams;\r\n        // 返礼品コード監視変更用\r\n        var changeItemcode = function () {\r\n            $.ajax({\r\n                url: (0, index_1.ajaxUrl)(window),\r\n                data: {\r\n                    action: \"N2_Postlist\",\r\n                    事業者: $('select[name=\"事業者\"]').val(),\r\n                },\r\n            }).done(function (res) {\r\n                var data = JSON.parse(res);\r\n                console.log(data);\r\n                $('select[name=\"返礼品コード[]\"]>*').remove();\r\n                $('select[name=\"返礼品コード[]\"]').append('<option value=\"\">返礼品コード</option>');\r\n                Object.keys(data).forEach(function (key) {\r\n                    var selected = params.get(\"返礼品コード\") === key ? \"selected\" : \"\";\r\n                    $('select[name=\"返礼品コード[]\"]').append($(\"<option value=\\\"\".concat(key, \"\\\" \").concat(selected, \">\").concat(data[key], \"</option>\")));\r\n                });\r\n            });\r\n        };\r\n        // ページ表示時と事業者選択変更時に返礼品コードを監視、変更\r\n        changeItemcode();\r\n        $('select[name=\"事業者\"]').on(\"change\", function () {\r\n            changeItemcode();\r\n        });\r\n        // キーワード検索にOR用チェックボックス\r\n        var checked = params.get(\"or\") === \"1\" ? \"checked\" : \"\";\r\n        $(\"#post-search-input\").before($(\"<label style=\\\"float:left\\\"><input name=\\\"or\\\" value=\\\"1\\\" type=\\\"checkbox\\\" \".concat(checked, \">OR\\u691C\\u7D22</label>\")));\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-postlist/search.ts?");

/***/ }),

/***/ "./src/ts/n2-setpost/index.ts":
/*!************************************!*\
  !*** ./src/ts/n2-setpost/index.ts ***!
  \************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar main_1 = __importDefault(__webpack_require__(/*! ./main */ \"./src/ts/n2-setpost/main.ts\"));\r\nvar price_1 = __importDefault(__webpack_require__(/*! ./price */ \"./src/ts/n2-setpost/price.ts\"));\r\nvar rakuten_tag_1 = __importDefault(__webpack_require__(/*! ./rakuten-tag */ \"./src/ts/n2-setpost/rakuten-tag.ts\"));\r\nvar media_up_1 = __importDefault(__webpack_require__(/*! ./media-up */ \"./src/ts/n2-setpost/media-up.ts\"));\r\nexports[\"default\"] = (function () {\r\n    (0, main_1.default)();\r\n    (0, price_1.default)();\r\n    (0, rakuten_tag_1.default)();\r\n    (0, media_up_1.default)();\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-setpost/index.ts?");

/***/ }),

/***/ "./src/ts/n2-setpost/main.ts":
/*!***********************************!*\
  !*** ./src/ts/n2-setpost/main.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\nexports[\"default\"] = (function () {\r\n    jQuery(function ($) {\r\n        var wp = function (window) {\r\n            return window.wp;\r\n        };\r\n        // ブロックエディターレンダリング後にDOM操作して不要なメニュー削除\r\n        $(\"#editor\").ready(function () {\r\n            $('[role=\"toolbar\"]').remove(); //ツールバー\r\n            $('button[aria-label=\"設定\"]').remove(); //設定ボタン\r\n            $('button[aria-label=\"オプション\"]').remove(); //３点リーダー\r\n            $(\"button.block-editor-post-preview__button-toggle\").remove(); //プレビュー表示リンク\r\n            $(\".is-root-container.block-editor-block-list__layout\").remove(); //タイトル下のブロック\r\n            $(\".wp-block-post-title\").css(\"max-width\", \"95%\");\r\n            // プログレストラッカーの表示調整\r\n            $(\".interface-interface-skeleton__content\").prepend($(\"#\".concat(index_1.prefix, \"-progress-tracker\")));\r\n            $(\".\".concat(wp(window)\r\n                .data.select(\"core/editor\")\r\n                .getEditedPostAttribute(\"status\"))).addClass(\"active\");\r\n            $(\".editor-post-publish-button__button\").on(\"click\", function (e) {\r\n                e.preventDefault();\r\n                if ($(e.target).attr(\"aria-disabled\") === \"true\")\r\n                    return;\r\n                // ここからバリデーション ===========================================================================================================================\r\n                var vError = []; // エラーを溜める\r\n                if ($(\"input#title\").val() === \"\") {\r\n                    $(\"input#title\").before($(\"<p class=\\\"\".concat(index_1.prefix, \"-hissu-alert\\\" style=\\\"color:red;\\\">\\u203B\\u5FC5\\u9808\\u9805\\u76EE\\u3067\\u3059</p>\")));\r\n                    $(\"input#title\").css(\"background-color\", \"pink\");\r\n                    vError.push($(\"input#title\"));\r\n                }\r\n                // 必須\r\n                $(\".\".concat(index_1.prefix, \"-hissu\")).each(function (i, v) {\r\n                    if ($(v).val() === \"\") {\r\n                        if (!$(v).parent().find(\".\".concat(index_1.prefix, \"-hissu-alert\")).length) {\r\n                            $(v).before($(\"<p class=\\\"\".concat(index_1.prefix, \"-hissu-alert\\\" style=\\\"color:red;\\\">\\u203B\\u5FC5\\u9808\\u9805\\u76EE\\u3067\\u3059</p>\")));\r\n                        }\r\n                        $(v).css(\"background-color\", \"pink\");\r\n                        vError.push(v);\r\n                    }\r\n                });\r\n                // 0はダメ\r\n                $(\".\".concat(index_1.prefix, \"-notzero\")).each(function (i, v) {\r\n                    if (Number($(v).val()) === 0) {\r\n                        if (!$(v).parent().find(\".\".concat(index_1.prefix, \"-notzero-alert\"))\r\n                            .length) {\r\n                            $(v).before($(\"<p class=\\\"\".concat(index_1.prefix, \"-notzero-alert\\\" style=\\\"color:red;\\\">\\u203B0\\u4EE5\\u5916\\u306E\\u5024\\u3092\\u5165\\u529B\\u3057\\u3066\\u304F\\u3060\\u3055\\u3044\\u3002</p>\")));\r\n                        }\r\n                        $(v).css(\"background-color\", \"pink\");\r\n                        vError.push(v);\r\n                    }\r\n                });\r\n                if (vError.length) {\r\n                    alert(\"入力必須項目が未入力です。入力内容をご確認ください。\");\r\n                    // 公開をロック\r\n                    wp(window)\r\n                        .data.dispatch(\"core/editor\")\r\n                        .lockPostSaving(\"my-lock\");\r\n                    setTimeout(function () {\r\n                        $(\".editor-post-publish-panel__header-cancel-button .components-button.is-secondary\").trigger(\"click\");\r\n                    }, 10);\r\n                }\r\n                else {\r\n                    // 寄附金額<=価格÷0.4だったらエラー\r\n                    if (Number($(\"#寄附金額\").val()) <=\r\n                        Math.ceil(Number($(\"#価格\").val()) / 400) * 1000) {\r\n                        if (!$(\"#寄附金額\").parent().find(\".\".concat(index_1.prefix, \"-alert\"))\r\n                            .length) {\r\n                            $(\"#寄附金額\").before($(\"<p class=\\\"\".concat(index_1.prefix, \"-alert\\\" style=\\\"color:red;\\\">\\u203B\\u5BC4\\u9644\\u91D1\\u984D\\u304C\\u4F4E\\u3059\\u304E\\u307E\\u3059\\u3002</p>\")));\r\n                        }\r\n                        if (!confirm(\"自動計算された値に対して寄附金額が低すぎます。それでも更新しますか？\")) {\r\n                            // 公開をロック\r\n                            wp(window)\r\n                                .data.dispatch(\"core/editor\")\r\n                                .lockPostSaving(\"my-lock\");\r\n                            setTimeout(function () {\r\n                                $(\".editor-post-publish-panel__header-cancel-button .components-button.is-secondary\").trigger(\"click\");\r\n                            }, 10);\r\n                            return;\r\n                        }\r\n                    }\r\n                    // 公開ロックを解除\r\n                    wp(window)\r\n                        .data.dispatch(\"core/editor\")\r\n                        .unlockPostSaving(\"my-lock\");\r\n                }\r\n                // ここまでバリデーション==========================================================================================================================\r\n                if (!$(\"#n2-setpost-check-modal\").length &&\r\n                    $(e.target).text() === \"公開\" &&\r\n                    !vError.length) {\r\n                    $(\"body\").css(\"overflow-y\", \"hidden\");\r\n                    e.preventDefault();\r\n                    // ここから確認用モーダル==========================================================================================================================\r\n                    $.ajax({\r\n                        url: (0, index_1.ajaxUrl)(window),\r\n                        data: {\r\n                            action: \"N2_Setpost\",\r\n                        },\r\n                    }).done(function (res) {\r\n                        var data = JSON.parse(res);\r\n                        console.log(data);\r\n                        if (data.ss_crew === \"false\") {\r\n                            $(\"body\").append($('<div id=\"n2-setpost-check-modal-wrapper\"></div>'));\r\n                            $(\"#n2-setpost-check-modal-wrapper\").load((0, index_1.neoNengPath)(window) +\r\n                                \"/template/check-modal.html #n2-setpost-check-modal\", function () {\r\n                                $(\"#n2-setpost-check-modal .result table\").append(\"<tr><td>\\u8FD4\\u793C\\u54C1\\u540D</td><td>\".concat($(\"h1.editor-post-title\").text(), \"</td></tr>\"));\r\n                                var inputs = $(\"#default_setting .n2-input\");\r\n                                var checkbox = {};\r\n                                $.each(inputs, function (i, v) {\r\n                                    var inputName = $(v).attr(\"name\");\r\n                                    var tag = v.tagName;\r\n                                    if ((tag === \"INPUT\" &&\r\n                                        $(v).attr(\"type\") === \"text\") ||\r\n                                        tag === \"TEXTAREA\") {\r\n                                        var value = $(v).val() !== \"\"\r\n                                            ? String($(v).val()).replace(\"\\n\", \"<br>\")\r\n                                            : '<span class=\"noset\">入力なし</span>';\r\n                                        $(\"#n2-setpost-check-modal .result table\").append(\"<tr><td>\".concat(inputName, \"</td><td>\").concat(value, \"</td></tr>\"));\r\n                                    }\r\n                                    if (tag === \"SELECT\") {\r\n                                        var selected_1 = \"未選択\";\r\n                                        $.each($(v).find(\"option\"), function (i2, v2) {\r\n                                            selected_1 =\r\n                                                $(v2).attr(\"selected\") === \"selected\" &&\r\n                                                    $(v2).text() !==\r\n                                                        \"未選択\"\r\n                                                    ? $(v2).text()\r\n                                                    : selected_1;\r\n                                        });\r\n                                        selected_1 =\r\n                                            selected_1 === \"未選択\"\r\n                                                ? \"<span class=\\\"noset\\\">\".concat(selected_1, \"</span>\")\r\n                                                : selected_1;\r\n                                        $(\"#n2-setpost-check-modal .result table\").append(\"<tr><td>\".concat(inputName, \"</td><td>\").concat(selected_1, \"</td></tr>\"));\r\n                                    }\r\n                                    if (tag === \"INPUT\" &&\r\n                                        $(v).attr(\"type\") === \"checkbox\") {\r\n                                        var checkedName = $(v)\r\n                                            .parent()\r\n                                            .text();\r\n                                        var key = inputName.replace(\"[]\", \"\");\r\n                                        if ($(v).prop(\"checked\")) {\r\n                                            checkbox[key] =\r\n                                                checkbox[key] === undefined\r\n                                                    ? \"\" + checkedName\r\n                                                    : (checkbox[key] =\r\n                                                        checkbox[key] === undefined\r\n                                                            ? \"\" +\r\n                                                                checkedName\r\n                                                            : checkbox[key] +\r\n                                                                \",\" +\r\n                                                                checkedName);\r\n                                        }\r\n                                        else {\r\n                                            checkbox[key] =\r\n                                                checkbox[key] ===\r\n                                                    undefined ||\r\n                                                    checkbox[key] === \"なし\"\r\n                                                    ? \"なし\"\r\n                                                    : checkbox[key].replace(\"なし,\", \"\");\r\n                                        }\r\n                                    }\r\n                                    if (tag === \"INPUT\" &&\r\n                                        $(v).attr(\"type\") === \"hidden\") {\r\n                                        var value = $(v).val() !== \"\"\r\n                                            ? $(v).val()\r\n                                            : false;\r\n                                        value =\r\n                                            value && inputName.match(/画像/)\r\n                                                ? \"<img src=\\\"\".concat(value, \"\\\" width=\\\"100%\\\">\")\r\n                                                : '<span class=\"noset\">なし</span>';\r\n                                        $(\"#n2-setpost-check-modal .result table\").append(\"<tr><td>\".concat(inputName, \"</td><td>\").concat(value, \"</td></tr>\"));\r\n                                    }\r\n                                });\r\n                                $.each(checkbox, function (k, v) {\r\n                                    if (v === \"なし\") {\r\n                                        $(\"#n2-setpost-check-modal .result table\").append(\"<tr><td>\".concat(k, \"</td><td><span class=\\\"noset\\\">\").concat(v, \"</span></td></tr>\"));\r\n                                    }\r\n                                    else {\r\n                                        $(\"#n2-setpost-check-modal .result table\").append(\"<tr><td>\".concat(k, \"</td><td>\").concat(v, \"</td></tr>\"));\r\n                                    }\r\n                                });\r\n                                $(\"#n2-setpost-check-modal button.cancel\").on(\"click\", function (e) {\r\n                                    $(\"#n2-setpost-check-modal-wrapper\").remove();\r\n                                    $(\"body\").css(\"overflow-y\", \"auto\");\r\n                                    $(\".editor-post-publish-panel__header-cancel-button .components-button.is-secondary\").trigger(\"click\");\r\n                                });\r\n                                $(\"#n2-setpost-check-modal button.done\").on(\"click\", function (e) {\r\n                                    $(e.target).prop(\"disabled\", true);\r\n                                    $(\".editor-post-publish-button__button\").trigger(\"click\");\r\n                                    $(\"#n2-setpost-check-modal-wrapper\").remove();\r\n                                    $(\"body\").css(\"overflow-y\", \"auto\");\r\n                                });\r\n                            });\r\n                        } // end if(res==='false')\r\n                    });\r\n                } // end if(!$('#n2-setpost-check-modal').length)\r\n                // ここまで確認用モーダル==========================================================================================================================\r\n                $(\".\".concat(wp(window)\r\n                    .data.select(\"core/editor\")\r\n                    .getEditedPostAttribute(\"status\"), \".active\")).removeClass(\"active\");\r\n                setTimeout(function () {\r\n                    $(\".\".concat(wp(window)\r\n                        .data.select(\"core/editor\")\r\n                        .getEditedPostAttribute(\"status\"))).addClass(\"active\");\r\n                }, 100);\r\n            });\r\n        });\r\n        // inputにmaxlengthが設定されているもののみ入力中の文字数表示\r\n        $(\"#ss_setting input,#ss_setting textarea,#default_setting input,#default_setting textarea\").each(function (i, v) {\r\n            if ($(v).attr(\"maxlength\")) {\r\n                $(v)\r\n                    .parent()\r\n                    .append($(\"<p>\".concat(String($(v).val()).length, \"\\u6587\\u5B57</p>\")));\r\n                $(v).on(\"keyup\", function () {\r\n                    $(v)\r\n                        .parent()\r\n                        .find(\"p\")\r\n                        .text(String($(v).val()).length + \"文字\");\r\n                });\r\n            }\r\n        });\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-setpost/main.ts?");

/***/ }),

/***/ "./src/ts/n2-setpost/media-up.ts":
/*!***************************************!*\
  !*** ./src/ts/n2-setpost/media-up.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\nexports[\"default\"] = (function () {\r\n    jQuery(function ($) {\r\n        /**\r\n         *  wordpressのメディアアップロード呼び出し\r\n         */\r\n        var wpMedia = function (title, btnText, type, window) {\r\n            var wp = window.wp;\r\n            return wp.media({\r\n                title: title,\r\n                button: {\r\n                    text: btnText,\r\n                },\r\n                library: {\r\n                    type: type,\r\n                },\r\n                multiple: false,\r\n            });\r\n        };\r\n        //imageアップローダーボタン\r\n        $(\".\".concat(index_1.prefix, \"-media-toggle\")).on(\"click\", function (e) {\r\n            e.preventDefault();\r\n            var parent = $(e.target).parent();\r\n            var customUploader = wpMedia(\"画像を選択\", \"画像を設定\", \"image\", window);\r\n            customUploader.open();\r\n            customUploader.on(\"select\", function () {\r\n                var images = customUploader.state().get(\"selection\");\r\n                images.each(function (image) {\r\n                    parent\r\n                        .find(\".\".concat(index_1.prefix, \"-image-url\"))\r\n                        .attr(\"src\", image.attributes.url);\r\n                    parent\r\n                        .find(\".\".concat(index_1.prefix, \"-image-input\"))\r\n                        .val(image.attributes.url);\r\n                });\r\n            });\r\n        });\r\n        //zipアップローダーボタン\r\n        $(\".\".concat(index_1.prefix, \"-zip-toggle\")).on(\"click\", function (e) {\r\n            e.preventDefault();\r\n            var parent = $(e.target).parent();\r\n            var customUploader = wpMedia(\"zipファイルを選択\", \"zipファイルを設定\", \"application/zip\", window);\r\n            customUploader.open();\r\n            customUploader.on(\"select\", function () {\r\n                var zips = customUploader.state().get(\"selection\");\r\n                console.log(zips);\r\n                zips.each(function (zip) {\r\n                    console.log(zip);\r\n                    parent\r\n                        .find(\".\".concat(index_1.prefix, \"-zip-url\"))\r\n                        .text(\"\".concat(zip.attributes.filename, \"\\u3092\\u9078\\u629E\\u4E2D\"));\r\n                    parent.find(\".\".concat(index_1.prefix, \"-zip-input\")).val(zip.attributes.url);\r\n                });\r\n            });\r\n        });\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-setpost/media-up.ts?");

/***/ }),

/***/ "./src/ts/n2-setpost/price.ts":
/*!************************************!*\
  !*** ./src/ts/n2-setpost/price.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\nexports[\"default\"] = (function () {\r\n    /** ===============================================================\r\n     *\r\n     * 寄附金額計算\r\n     *\r\n    ================================================================== */\r\n    jQuery(function ($) {\r\n        // 計算パターンを受け取ってから処理\r\n        $.ajax({\r\n            url: (0, index_1.ajaxUrl)(window),\r\n            data: {\r\n                action: \"N2_Setpost\",\r\n            },\r\n        }).done(function (res) {\r\n            var data = JSON.parse(res);\r\n            console.log(data);\r\n            /** ===============================================================\r\n             *\r\n             * 送料制御\r\n             *\r\n            ================================================================== */\r\n            var ControlSouryou = /** @class */ (function () {\r\n                function ControlSouryou(webSyukka, deliveryCool, deliveryPattern) {\r\n                    this.webSyukka = webSyukka;\r\n                    this.deliveryCool = deliveryCool;\r\n                    this.deliveryPattern = deliveryPattern;\r\n                }\r\n                Object.defineProperty(ControlSouryou.prototype, \"setPrice\", {\r\n                    // 金額更新\r\n                    set: function (price) {\r\n                        this.price = price;\r\n                        this.webSyukka = price === 0 ? false : true;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(ControlSouryou.prototype, \"getPrice\", {\r\n                    // 金額取得\r\n                    get: function () {\r\n                        return this.price;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(ControlSouryou.prototype, \"setDeliveryCool\", {\r\n                    // クール判定\r\n                    set: function (cool) {\r\n                        this.deliveryCool = cool;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                // 料金表オブジェクトをもとにサイズを料金へ変換\r\n                ControlSouryou.prototype.convertPrice = function (size) {\r\n                    return this.deliveryPattern[this.deliveryCool ? \"cool\" : \"normal\"][size];\r\n                };\r\n                return ControlSouryou;\r\n            }());\r\n            // インスタンス生成\r\n            var souryouState = new ControlSouryou($(\"#発送サイズ\").text() !== \"その他\", $(\"#発送方法\").val() !== \"常温\", data[\"delivery_pattern\"]);\r\n            // 金額セット\r\n            souryouState.setPrice = souryouState.convertPrice($(\"#発送サイズ>option:selected\").text());\r\n            // 発送方法の変更に合わせて発想サイズの選択肢変更\r\n            var changeSizeSelect = function (souryouState) {\r\n                // 発送サイズをcool表示に\r\n                $.each($(\"#発送サイズ>option\"), function (index, option) {\r\n                    if (!Object.keys(souryouState.deliveryPattern[\"cool\"]).includes($(option).text())) {\r\n                        $(option).css(\"display\", \"\".concat(souryouState.deliveryCool ? \"none\" : \"block\"));\r\n                    }\r\n                });\r\n            };\r\n            // 送料決定プロセス\r\n            var souryouDecision = function (souryouState) {\r\n                souryouState.setPrice = souryouState.convertPrice($(\"#発送サイズ>option:selected\").text());\r\n                $('label[for=\"送料\"] + p').text(\"\".concat(souryouState.webSyukka\r\n                    ? souryouState.getPrice.toLocaleString()\r\n                    : \"\"));\r\n                $(\"#送料\").val(souryouState.getPrice);\r\n                $(\"#送料\").attr(\"type\", \"\".concat(souryouState.webSyukka ? \"hidden\" : \"text\"));\r\n            };\r\n            // JS起動時処理\r\n            $('label[for=\"送料\"]').after($(\"<p></p>\"));\r\n            changeSizeSelect(souryouState);\r\n            souryouDecision(souryouState);\r\n            // イベント監視---------------------------------------------------------------------------------------------------\r\n            $(\"#発送サイズ\").on(\"change\", function (e) {\r\n                souryouDecision(souryouState);\r\n                // 寄附金額再計算\r\n                priceState.setsouryou = Number($(\"#送料\").val());\r\n                showPrice(priceState);\r\n            });\r\n            $(\"#発送方法\").on(\"change\", function (e) {\r\n                // クール便判定再セット\r\n                souryouState.setDeliveryCool = $(\"#発送方法\").val() !== \"常温\";\r\n                // あとからクールになった時に発想サイズリセット\r\n                if ($(\"#発送サイズ>option:selected\").text() !== \"未選択\" &&\r\n                    souryouState.deliveryCool) {\r\n                    alert(\"発送方法が変更になったため発送サイズをリセットしました\");\r\n                    $('#発送サイズ>option[value=\"\"]').prop(\"selected\", true);\r\n                }\r\n                changeSizeSelect(souryouState);\r\n                souryouDecision(souryouState);\r\n                priceState.setsouryou = Number($(\"#送料\").val());\r\n                showPrice(priceState);\r\n            });\r\n            // ここまでイベント監視\r\n            /** ===============================================================\r\n             *\r\n             * 寄附金額制御\r\n             *\r\n            ================================================================== */\r\n            // 価格と寄附金額の状態を監視するクラス\r\n            var AutoCalc = /** @class */ (function () {\r\n                function AutoCalc(kakaku, kifukingaku, souryou, teiki) {\r\n                    this.kakaku = kakaku;\r\n                    this.kifukingaku = kifukingaku;\r\n                    this.souryou = souryou;\r\n                    this.teiki = teiki === 0 ? 1 : teiki;\r\n                }\r\n                Object.defineProperty(AutoCalc.prototype, \"setkakaku\", {\r\n                    // 価格更新\r\n                    set: function (price) {\r\n                        this.kakaku = price;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"getkakaku\", {\r\n                    // 価格取得\r\n                    get: function () {\r\n                        return this.kakaku;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"setsouryou\", {\r\n                    // 送料更新\r\n                    set: function (price) {\r\n                        this.souryou = price;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"getsouryou\", {\r\n                    // 送料取得\r\n                    get: function () {\r\n                        return this.souryou;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"setteiki\", {\r\n                    // 定期回数更新\r\n                    set: function (count) {\r\n                        this.teiki = count;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"getteiki\", {\r\n                    // 定期回数取得\r\n                    get: function () {\r\n                        return this.teiki;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"setkifu\", {\r\n                    // 寄附金額更新\r\n                    set: function (price) {\r\n                        this.kifukingaku = price;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                Object.defineProperty(AutoCalc.prototype, \"setpattern\", {\r\n                    // 計算パターン変更\r\n                    set: function (pattern) {\r\n                        this.pattern = pattern;\r\n                    },\r\n                    enumerable: false,\r\n                    configurable: true\r\n                });\r\n                // 寄附金額に入力があるかチェック\r\n                AutoCalc.prototype.checkPrice = function () {\r\n                    return (Number(this.kifukingaku) !== 0 &&\r\n                        this.kifukingaku !== \"\");\r\n                };\r\n                // 最低ラインの寄附金額計算\r\n                AutoCalc.prototype.errorPrice = function () {\r\n                    return Math.ceil(this.kakaku / 400) * 1000 * this.teiki;\r\n                };\r\n                // 自動計算\r\n                AutoCalc.prototype.calcPrice = function () {\r\n                    var kakaku = this.kakaku;\r\n                    var kifukingaku = this.kifukingaku;\r\n                    var souryou = this.souryou;\r\n                    // PHPから計算パターンをJSの式（文字列）として受け取りevalでプログラムとして実行\r\n                    return eval(this.pattern) * this.teiki;\r\n                };\r\n                // 差額計算\r\n                AutoCalc.prototype.diffPrice = function () {\r\n                    return Number(this.kifukingaku) - this.calcPrice();\r\n                };\r\n                return AutoCalc;\r\n            }());\r\n            // インスタンス生成\r\n            var priceState = new AutoCalc(Number($(\"#価格\").val()), $(\"#寄附金額\").val(), Number($(\"#送料\").val()), Number($(\"#定期便\").val()));\r\n            // インスタンスにパターンセット\r\n            priceState.setpattern = data.kifu_auto_pattern;\r\n            // もろろのDOM操作をまとめて関数化\r\n            var showPrice = function (priceState) {\r\n                if (Number(priceState.errorPrice()) >=\r\n                    Number($(\"#寄附金額\").val())) {\r\n                    if (!$(\"#寄附金額\").parent().find(\".\".concat(index_1.prefix, \"-alert\")).length) {\r\n                        $(\"#寄附金額\").before($(\"<p class=\\\"\".concat(index_1.prefix, \"-alert\\\" style=\\\"color:red;\\\">\\u203B\\u5BC4\\u9644\\u91D1\\u984D\\u304C\\u4F4E\\u3059\\u304E\\u307E\\u3059\\u3002</p>\")));\r\n                    }\r\n                }\r\n                else {\r\n                    $(\"#寄附金額\").parent().find(\".\".concat(index_1.prefix, \"-alert\")).remove();\r\n                }\r\n                $(\"#寄附金額 + p\").html(\"\\n\\t\\t\\t\\t\\u81EA\\u52D5\\u8A08\\u7B97\\u306E\\u5024\\uFF1A\".concat(priceState.calcPrice().toLocaleString(), \"\\uFF08<span style=\\\"color:\").concat(priceState.diffPrice() >= 0 ? \"turquoise\" : \"red\", \"\\\">\\u5DEE\\u984D\\uFF1A\").concat(priceState.diffPrice().toLocaleString(), \"</span>\\uFF09<br>\\n\\t\\t\\t\\t\\u4FA1\\u683C\\uFF1A\").concat((priceState.getkakaku * priceState.getteiki).toLocaleString(), \"\\uFF08\").concat(priceState.getkakaku.toLocaleString(), \" \\u00D7 \").concat(priceState.getteiki, \"\\u56DE\\uFF09<br>\\n\\t\\t\\t\\t\\u9001\\u6599\\uFF1A\").concat((priceState.getsouryou * priceState.getteiki).toLocaleString(), \"\\uFF08\").concat(priceState.getsouryou.toLocaleString(), \" \\u00D7 \").concat(priceState.getteiki, \"\\u56DE\\uFF09\\n\\t\\t\\t\\t\"));\r\n            };\r\n            // 寄附金額み入力時のみ自動計算を入力値に反映\r\n            if (!priceState.checkPrice()) {\r\n                $(\"#寄附金額\").val(priceState.calcPrice());\r\n                priceState.setkifu = priceState.calcPrice();\r\n            }\r\n            // 自動計算値と差額表示用DOMセット\r\n            $(\"#寄附金額\").after($(\"<p></p>\"));\r\n            // デフォルトで計算値、差額表示\r\n            showPrice(priceState);\r\n            // イベント監視 ------------------------------------------------------------------------------------------\r\n            $(\"#価格\").on(\"keyup\", function (e) {\r\n                priceState.setkakaku = Number($(e.target).val());\r\n                showPrice(priceState);\r\n            });\r\n            $(\"#送料\").on(\"keyup mouseup\", function (e) {\r\n                priceState.setsouryou = Number($(e.target).val());\r\n                showPrice(priceState);\r\n            });\r\n            $(\"#定期便\").on(\"change\", function (e) {\r\n                priceState.setteiki = Number($(e.target).val());\r\n                showPrice(priceState);\r\n            });\r\n            $(\"#寄附金額\").on(\"keyup mouseup\", function (e) {\r\n                priceState.setkifu = Number($(e.target).val());\r\n                showPrice(priceState);\r\n            });\r\n            // ここまでイベント ---------------------------------------------------------------------------------------\r\n        });\r\n        // ここまで寄附金額計算 ==============================================================================================================================\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-setpost/price.ts?");

/***/ }),

/***/ "./src/ts/n2-setpost/rakuten-tag.ts":
/*!******************************************!*\
  !*** ./src/ts/n2-setpost/rakuten-tag.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\nexports[\"default\"] = (function () {\r\n    jQuery(function ($) {\r\n        /** ===============================================================\r\n         *\r\n         * タグID用\r\n         *\r\n        ================================================================== */\r\n        // JS読み込んだ時点で、表示用のタグを生成する ============================================================================\r\n        // ディレクトリID用\r\n        $(\"#全商品ディレクトリID\").before($(\"<p>\\u30C7\\u30A3\\u30EC\\u30AF\\u30C8\\u30EA\\u968E\\u5C64\\uFF1A<span id=\\\"\".concat(index_1.prefix, \"-genre\\\"></span><p>\")));\r\n        $(\"#\".concat(index_1.prefix, \"-genre\")).text(String($(\"#全商品ディレクトリID-text\").val()));\r\n        $(\"#全商品ディレクトリID\").after($(\"<p>\\u30C7\\u30A3\\u30EC\\u30AF\\u30C8\\u30EAID\\uFF1A<span id=\\\"\".concat(index_1.prefix, \"-genreid\\\"></span><p>\")));\r\n        $(\"#\".concat(index_1.prefix, \"-genreid\")).text(String($(\"#全商品ディレクトリID\").val()));\r\n        // タグID用\r\n        $(\"#タグID\").before($(\"<p>\\u9078\\u629E\\u4E2D\\u306E\\u30BF\\u30B0\\uFF1A<span id=\\\"\".concat(index_1.prefix, \"-tag\\\"></span><p>\")));\r\n        $(\"#\".concat(index_1.prefix, \"-tag\")).text(String($(\"#タグID-text\").val()));\r\n        $(\"#タグID\").after($(\"<p>\\u30BF\\u30B0ID\\uFF1A<span id=\\\"\".concat(index_1.prefix, \"-tagid\\\"></span><p>\")));\r\n        $(\"#\".concat(index_1.prefix, \"-tagid\")).text(String($(\"#タグID\").val()));\r\n        // ================================================================================================================\r\n        // タグ取得のAPI\r\n        var rakutenApiUrl = \"https://app.rakuten.co.jp/services/api/IchibaGenre/Search/20140222?applicationId=1002772968546257164&genreId=\";\r\n        // ジャンル>ジャンル>ジャンルの形式のテキストを保持\r\n        var genreText = \"\";\r\n        // 1234567/1234567/1234567みたいにする\r\n        var tagChain = \"\";\r\n        // タグネーム/タグネーム/タグネーム\r\n        var tagText = \"\";\r\n        // 最大タグID数に達していないかをカウントして表示\r\n        var tagCount = 32;\r\n        var showTagCount = function (tagCount) {\r\n            $(\".tags-count  span\").text(tagCount);\r\n        };\r\n        // ジャンルIDをパラメータで渡すことでJSONを返す\r\n        var getRakutenId = function (genreId) {\r\n            return $.ajax({\r\n                url: rakutenApiUrl + genreId,\r\n                dataType: \"JSON\",\r\n            });\r\n        };\r\n        // 再帰的にジャンルIDをセットし続けることで下の階層のIDをとっていく\r\n        var setRakutenId = function (genreId, genreLevel) {\r\n            if (genreId === void 0) { genreId = 0; }\r\n            if (genreLevel === void 0) { genreLevel = 1; }\r\n            getRakutenId(genreId).done(function (res) {\r\n                // 子のジャンルがなければ終わり\r\n                if (!res.children.length) {\r\n                    return;\r\n                }\r\n                // select数字クラスを自動生成\r\n                if (!$(\"#n2-setpost-rakuten-genreid .select\".concat(genreLevel))\r\n                    .length) {\r\n                    $(\"#n2-setpost-rakuten-genreid .select-wrapper\").append($(\"<select class=\\\"select\".concat(genreLevel, \"\\\"><option value=\\\"\\\" selected>\\u672A\\u9078\\u629E</option></select>\")));\r\n                    $.each(res.children, function (index, val) {\r\n                        $(\"#n2-setpost-rakuten-genreid select.select\".concat(genreLevel)).append($(\"<option value=\\\"\".concat(val.child.genreId, \"\\\">\").concat(val.child.genreName, \"</option>\")));\r\n                    });\r\n                }\r\n                // セレクトを変更するとジャンルIDと階層テキストを保持してまたsetRakutenIdをまわす\r\n                $(\"#n2-setpost-rakuten-genreid select.select\".concat(genreLevel)).on(\"change\", function (e) {\r\n                    $(\"#n2-setpost-rakuten-genreid .result span\").text(String($(e.target).val()));\r\n                    $(e.target).nextAll().remove();\r\n                    genreText +=\r\n                        \" > \" +\r\n                            $(e.target).find($(\"option:selected\")).text();\r\n                    genreId = Number($(e.target).val());\r\n                    genreLevel++;\r\n                    setRakutenId(genreId, genreLevel);\r\n                });\r\n            });\r\n        };\r\n        // genreIdをセットし、tagGroupからtagIdまでとっていく\r\n        var setRakutenTagId = function (genreId, tagLevel) {\r\n            if (genreId === void 0) { genreId = 0; }\r\n            if (tagLevel === void 0) { tagLevel = 1; }\r\n            getRakutenId(genreId).done(function (res) {\r\n                showTagCount(tagCount);\r\n                $.each(res.tagGroups, function (index, val) {\r\n                    // 含まれる全グループのブロックを生成\r\n                    $(\"#n2-setpost-rakuten-tagid .groups\").append($(\"<div><input type=\\\"radio\\\" name=\\\"tag-group\\\" id=\\\"gid\".concat(val.tagGroup.tagGroupId, \"\\\" value=\\\"\").concat(val.tagGroup.tagGroupName, \"\\\"><label for=\\\"gid\").concat(val.tagGroup.tagGroupId, \"\\\">\").concat(val.tagGroup.tagGroupName, \"</label></div>\")));\r\n                    $(\"#n2-setpost-rakuten-tagid .tags\").append($(\"<div class=\\\"gid\".concat(val.tagGroup.tagGroupId, \"\\\"></div>\")));\r\n                    // グループごとのブロック内にタグを配置\r\n                    $.each(val.tagGroup.tags, function (index, v) {\r\n                        $(\"#n2-setpost-rakuten-tagid .tags .gid\".concat(val.tagGroup.tagGroupId)).append($(\"<div><input type=\\\"checkbox\\\" name=\\\"tags\\\" id=\\\"tid\".concat(v.tag.tagId, \"\\\" value=\\\"\").concat(v.tag.tagName, \"\\\"><label for=\\\"tid\").concat(v.tag.tagId, \"\\\">\").concat(v.tag.tagName, \"</label></div>\")));\r\n                    });\r\n                    // 全ブロック非表示\r\n                    $(\"#n2-setpost-rakuten-tagid .tags>*\").css(\"display\", \"none\");\r\n                });\r\n                // グループを選択\r\n                $('#n2-setpost-rakuten-tagid .groups input[type=\"radio\"]').on(\"click\", function (e) {\r\n                    var gid = Number($(e.target).attr(\"id\").replace(\"gid\", \"\"));\r\n                    // 表示中のグループブロックを非表示\r\n                    $(\"#n2-setpost-rakuten-tagid .tags>*\").css(\"display\", \"none\");\r\n                    // 選択したグループブロックを表示\r\n                    $(\"#n2-setpost-rakuten-tagid .tags .gid\".concat(gid)).css(\"display\", \"block\");\r\n                });\r\n                // tagを選択\r\n                $(\"#n2-setpost-rakuten-tagid .tags input[name=\\\"tags\\\"]\").on(\"change\", function (e) {\r\n                    var tagId = Number($(e.target).attr(\"id\").replace(\"tid\", \"\"));\r\n                    var tagName = $(e.target).val();\r\n                    // チェック未→済\r\n                    if ($(e.target).prop(\"checked\")) {\r\n                        if (tagCount !== 0) {\r\n                            $(\"#n2-setpost-rakuten-tagid .result .checked-tags\").append($(\"<div data-tid=\\\"\".concat(tagId, \"\\\">\").concat(tagId, \":\").concat(tagName, \"<span></span></div>\")));\r\n                            tagCount--;\r\n                            showTagCount(tagCount);\r\n                        }\r\n                        else {\r\n                            $(e.target).prop(\"checked\", false);\r\n                            alert(\"32件選択中です。\");\r\n                        }\r\n                        // チェック済→未\r\n                    }\r\n                    else {\r\n                        $(\"#n2-setpost-rakuten-tagid .result .checked-tags div[data-tid=\\\"\".concat(tagId, \"\\\"]\")).remove();\r\n                        tagCount++;\r\n                        showTagCount(tagCount);\r\n                    }\r\n                });\r\n                // バツボタンで選択中のタグを削除するとcheckboxも未選択に戻る\r\n                $(document).on(\"click\", \"#n2-setpost-rakuten-tagid .result .checked-tags div span\", function (e) {\r\n                    $(\"#tid\".concat($(e.target).parent().data(\"tid\"))).prop(\"checked\", false);\r\n                    $(e.target).parent().remove();\r\n                    tagCount++;\r\n                    showTagCount(tagCount);\r\n                });\r\n            });\r\n        };\r\n        // ディレクトリID検索スタート\r\n        $(\"#\".concat(index_1.prefix, \"-genreid-btn\")).on(\"click\", function (e) {\r\n            if ($(\"#タグID\").val() !== \"\") {\r\n                if (!confirm(\"ディレクトリIDを変更すると、下のタグIDがリセットされますのでご注意ください。\")) {\r\n                    return;\r\n                }\r\n            }\r\n            $(\"#ss_setting\").append($('<div id=\"n2-setpost-rakuten-genreid-wrapper\"></div>'));\r\n            // テンプレートディレクトリからHTMLをロード\r\n            $(\"#n2-setpost-rakuten-genreid-wrapper\").load((0, index_1.neoNengPath)(window) +\r\n                \"/template/rakuten-genreid.html #n2-setpost-rakuten-genreid\", function () {\r\n                $(\"body\").css(\"overflow-y\", \"hidden\");\r\n                // 保持テキストをリセットしてからsetRakutenId回す\r\n                genreText = \"\";\r\n                setRakutenId();\r\n                // モーダル内の各ボタンの処理制御\r\n                $(\"#n2-setpost-rakuten-genreid button\").on(\"click\", function (e) {\r\n                    if ($(e.target).hasClass(\"clear\")) {\r\n                        $(\"#n2-setpost-rakuten-genreid .select-wrapper>*\").remove();\r\n                        $(\"#n2-setpost-rakuten-genreid .result span\").text(\"指定なし\");\r\n                        setRakutenId();\r\n                    }\r\n                    if ($(e.target).hasClass(\"done\") &&\r\n                        confirm(\"選択中のIDをセットしますか？(タグIDがリセットされます)\")) {\r\n                        $(\"#\".concat(index_1.prefix, \"-genre\")).text(genreText);\r\n                        $(\"#\".concat(index_1.prefix, \"-genreid\")).text($(\"#n2-setpost-rakuten-genreid .result span\").text());\r\n                        $(\"#全商品ディレクトリID-text\").val(genreText);\r\n                        $(\"#全商品ディレクトリID\").val(Number($(\"#n2-setpost-rakuten-genreid .result span\").text()));\r\n                        $(\"#n2-setpost-rakuten-genreid-wrapper\").remove();\r\n                        $(\"body\").css(\"overflow-y\", \"auto\");\r\n                        $(\"#\".concat(index_1.prefix, \"-tag\")).text(\"\");\r\n                        $(\"#\".concat(index_1.prefix, \"-tagid\")).text(\"\");\r\n                        $(\"#タグID-text\").val(\"\");\r\n                        $(\"#タグID\").val(\"\");\r\n                    }\r\n                    if ($(e.target).hasClass(\"close\") &&\r\n                        confirm(\"選択中のIDはリセットされますがそれでも閉じますか？\")) {\r\n                        $(\"#n2-setpost-rakuten-genreid-wrapper\").remove();\r\n                        $(\"body\").css(\"overflow-y\", \"auto\");\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        // タグID検索スタート\r\n        $(\"#\".concat(index_1.prefix, \"-tagid-btn\")).on(\"click\", function (e) {\r\n            if ($(\"#全商品ディレクトリID\").val() === \"\") {\r\n                alert(\"ディレクトリIDを選択してから再度お試しください。\");\r\n                return;\r\n            }\r\n            $(\"#ss_setting\").append($('<div id=\"n2-setpost-rakuten-tagid-wrapper\"></div>'));\r\n            // テンプレートディレクトリからHTMLをロード\r\n            $(\"#n2-setpost-rakuten-tagid-wrapper\").load((0, index_1.neoNengPath)(window) +\r\n                \"/template/rakuten-tagid.html #n2-setpost-rakuten-tagid\", function () {\r\n                $(\"body\").css(\"overflow-y\", \"hidden\");\r\n                tagCount = 32;\r\n                showTagCount(tagCount);\r\n                // 保持テキストをリセットしてからsetRakutenId回す\r\n                tagChain = \"\";\r\n                tagText = \"\";\r\n                setRakutenTagId(Number($(\"#全商品ディレクトリID\").val()));\r\n                // モーダル内の各ボタンの処理制御\r\n                $(\"#n2-setpost-rakuten-tagid button\").on(\"click\", function (e) {\r\n                    if ($(e.target).hasClass(\"clear\")) {\r\n                        $(\"#n2-setpost-rakuten-tagid .tags>*\").remove();\r\n                        $(\"#n2-setpost-rakuten-tagid .result .checked-tags>*\").remove();\r\n                        tagCount = 32;\r\n                        showTagCount(tagCount);\r\n                        setRakutenTagId(Number($(\"#全商品ディレクトリID\").val()));\r\n                    }\r\n                    if ($(e.target).hasClass(\"done\") &&\r\n                        confirm(\"選択中のIDをセットしますか？\")) {\r\n                        var chekedTags = $('#n2-setpost-rakuten-tagid .tags input[name=\"tags\"]').filter(\":checked\");\r\n                        $.each(chekedTags, function (i, v) {\r\n                            if (i === 0) {\r\n                                tagText += $(v).val();\r\n                                tagChain += v.id.replace(\"tid\", \"\");\r\n                            }\r\n                            else {\r\n                                tagText += \"/\" + $(v).val();\r\n                                tagChain += \"/\" + v.id.replace(\"tid\", \"\");\r\n                            }\r\n                        });\r\n                        $(\"#\".concat(index_1.prefix, \"-tag\")).text(tagText);\r\n                        $(\"#\".concat(index_1.prefix, \"-tagid\")).text(tagChain);\r\n                        $(\"#タグID-text\").val(tagText);\r\n                        $(\"#タグID\").val(tagChain);\r\n                        $(\"#n2-setpost-rakuten-tagid-wrapper\").remove();\r\n                        $(\"body\").css(\"overflow-y\", \"auto\");\r\n                    }\r\n                    if ($(e.target).hasClass(\"close\") &&\r\n                        confirm(\"選択中のIDはリセットされますがそれでも閉じますか？\")) {\r\n                        $(\"#n2-setpost-rakuten-tagid-wrapper\").remove();\r\n                        $(\"body\").css(\"overflow-y\", \"auto\");\r\n                    }\r\n                });\r\n            });\r\n        });\r\n        /** ===============================================================\r\n         *\r\n         * 楽天カテゴリー用\r\n         *\r\n        ================================================================== */\r\n        $(\"#\".concat(index_1.prefix, \"-rakutencategory\")).append('<option value=\"\">カテゴリーを選択してください</option>');\r\n        var folderCode = \"1p7DlbhcIEVIaH7Rw2mTmqJJKVDZCumYK\";\r\n        var api = \"https://www.googleapis.com/drive/v3/files/\"; // API Request\r\n        var key = \"AIzaSyDQ1Mu41-8S5kBpZED421bCP8NPE7pneNU\";\r\n        var data = {\r\n            key: key,\r\n            q: \"'\".concat(folderCode, \"' in parents\"), // フォルダの中を検索するクエリ\r\n        };\r\n        var town = $(\"#wp-admin-bar-site-name > a\").text(); // 自治体名\r\n        $.ajax(api, { data: data }).done(function (d) {\r\n            // .RakutenDataドライブのフォルダの中から該当する自治体のシートのIDを取得（セッションに保存したい）\r\n            var sheetID = d.files.filter(function (v) {\r\n                return v.name.match(town) &&\r\n                    v.mimeType.split(\".\").slice(-1)[0] == \"spreadsheet\";\r\n            });\r\n            if (!sheetID.length)\r\n                return false;\r\n            $.ajax(\"https://sheets.googleapis.com/v4/spreadsheets/\".concat(sheetID[0].id, \"/values/\\u30AB\\u30C6\\u30B4\\u30EA\\u30FC?key=\").concat(key)).done(function (data) {\r\n                data = data[\"values\"];\r\n                var cats, lCat, mCat;\r\n                $.each(data, function (k, v) {\r\n                    // 大カテの有無による大カテ・中カテの処理\r\n                    if (v[0]) {\r\n                        lCat = v[0].replace(\".\", \"\"); // 大カテあればそれ\r\n                        mCat = v[1] ? v[1].replace(\".\", \"\") : \"\"; // いったん中カテリセット\r\n                    }\r\n                    else {\r\n                        lCat = lCat; // 大カテなければ前のを継承\r\n                        mCat = v[1] ? v[1].replace(\".\", \"\") : mCat; // 中カテあればそれ・なければ継承\r\n                    }\r\n                    cats =\r\n                        \"#/\" +\r\n                            lCat +\r\n                            \"/\" +\r\n                            (mCat ? mCat + \"/\" : \"\") +\r\n                            (v[2] ? v[2].replace(\".\", \"\") + \"/\" : \"\");\r\n                    $(\"#\".concat(index_1.prefix, \"-rakutencategory\")).append('<option value=\"' +\r\n                        cats +\r\n                        '\" class=\"rakuten-category-item\">' +\r\n                        cats +\r\n                        \"</option>\");\r\n                });\r\n            });\r\n            // 選択された項目をtextareaに値として追記していく\r\n            $(\"#\".concat(index_1.prefix, \"-rakutencategory\")).on(\"change\", function () {\r\n                var textarea = $(\"textarea#楽天カテゴリー\");\r\n                var selected = String($(\".rakuten-category-item:selected\").val());\r\n                selected =\r\n                    String(textarea.val()).search(selected) == -1\r\n                        ? selected\r\n                        : \"\"; // textareaにすでにあったら入れない\r\n                var cat = textarea.val()\r\n                    ? textarea.val() + (selected ? \"\\n\" + selected : \"\")\r\n                    : selected;\r\n                textarea.val(cat);\r\n            });\r\n        });\r\n        // ここまで楽天カテゴリー ==============================================================================================================================\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-setpost/rakuten-tag.ts?");

/***/ }),

/***/ "./src/ts/n2-sissubmit/index.ts":
/*!**************************************!*\
  !*** ./src/ts/n2-sissubmit/index.ts ***!
  \**************************************/
/***/ (function(__unused_webpack_module, exports, __webpack_require__) {

eval("\r\nvar __importDefault = (this && this.__importDefault) || function (mod) {\r\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\r\n};\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar submit_1 = __importDefault(__webpack_require__(/*! ./submit */ \"./src/ts/n2-sissubmit/submit.ts\"));\r\nexports[\"default\"] = (function () {\r\n    (0, submit_1.default)();\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-sissubmit/index.ts?");

/***/ }),

/***/ "./src/ts/n2-sissubmit/submit.ts":
/*!***************************************!*\
  !*** ./src/ts/n2-sissubmit/submit.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, exports, __webpack_require__) => {

eval("\r\nObject.defineProperty(exports, \"__esModule\", ({ value: true }));\r\nvar index_1 = __webpack_require__(/*! ../functions/index */ \"./src/ts/functions/index.ts\");\r\nexports[\"default\"] = (function () {\r\n    jQuery(function ($) {\r\n        // 各種セットアップの更新\r\n        $('.sissubmit').on('click', function (e) {\r\n            e.preventDefault();\r\n            var $this = $(this), data = $this.parents('form').serialize();\r\n            if ((0, index_1.ajaxUrl)(window)) {\r\n                $this.val(\"　更新中...　\");\r\n                $.ajax({\r\n                    type: \"POST\",\r\n                    url: (0, index_1.ajaxUrl)(window),\r\n                    data: data,\r\n                })\r\n                    .done(function (data) {\r\n                    console.log(data);\r\n                    alert(\"更新完了！\");\r\n                    $this.val(\"　更新する　\");\r\n                });\r\n            }\r\n            else {\r\n                alert('更新に失敗しました');\r\n            }\r\n            return false;\r\n        });\r\n    });\r\n});\r\n\n\n//# sourceURL=webpack://neo-neng/./src/ts/n2-sissubmit/submit.ts?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module is referenced by other modules so it can't be inlined
/******/ 	var __webpack_exports__ = __webpack_require__("./src/ts/index.ts");
/******/ 	
/******/ })()
;